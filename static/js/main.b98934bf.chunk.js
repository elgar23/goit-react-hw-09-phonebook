(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[4],{15:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a}));var c=function(t){return t.auth.isAuthenticated},r=function(t){return t.auth.user.name},a=function(t){return t.auth.user.email}},20:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"l",(function(){return d})),n.d(e,"m",(function(){return O})),n.d(e,"k",(function(){return f})),n.d(e,"j",(function(){return v}));var c=n(2),r=Object(c.b)("fetchStart"),a=Object(c.b)("fetchSuccess"),u=Object(c.b)("fetchError"),i=Object(c.b)("addStart"),o=Object(c.b)("addSuccess"),s=Object(c.b)("addError"),b=Object(c.b)("deleteStart"),j=Object(c.b)("deleteSuccess"),l=Object(c.b)("deleteError"),d=Object(c.b)("upStart"),O=Object(c.b)("upSuccess"),f=Object(c.b)("upError"),v=Object(c.b)("filterList")},22:function(t,e,n){t.exports={navLink:"NavBar_navLink__1D809",navLinkactive:"NavBar_navLinkactive__LpWLp",ul:"NavBar_ul__2e0qf"}},23:function(t,e,n){t.exports={navLink:"Navigation_navLink__3h1ga",navLinkactive:"Navigation_navLinkactive__1mbE2",ul:"Navigation_ul__2oFCK"}},29:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return O}));var c=n(16),r=n.n(c),a=n(27),u=n(18),i=n.n(u),o=n(3);i.a.defaults.baseURL="https://connections-api.herokuapp.com/";var s=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){i.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(o.k)()),e.prev=1,e.next=4,i.a.post("/users/signup",t);case 4:c=e.sent,s(c.data.token),n(Object(o.l)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(o.j)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},l=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(o.e)()),e.prev=1,e.next=4,i.a.post("/users/login",t);case 4:c=e.sent,s(c.data.token),n(Object(o.f)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(o.d)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(o.h)()),t.prev=1,t.next=4,i.a.post("/users/logout");case 4:b(),e(Object(o.i)()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(Object(o.g)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(a),e(Object(o.b)()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:u=t.sent,e(Object(o.c)(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(o.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},3:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return f}));var c=n(2),r=Object(c.b)("registerStart"),a=Object(c.b)("registerSuccess"),u=Object(c.b)("registerError"),i=Object(c.b)("loginStart"),o=Object(c.b)("loginSuccess"),s=Object(c.b)("loginError"),b=Object(c.b)("logoutStart"),j=Object(c.b)("logoutSuccess"),l=Object(c.b)("logoutError"),d=Object(c.b)("getCurrentUserStart"),O=Object(c.b)("getCurrentUserSuccess"),f=Object(c.b)("getCurrentUserError")},33:function(t,e,n){t.exports={navLink:"UserMenu_navLink__1IZ64",navLinkactive:"UserMenu_navLinkactive__1Hf_6",ul:"UserMenu_ul__UK7eF"}},47:function(t,e,n){t.exports={div:"AppBar_div__3f3em"}},54:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var c=n(28),r=n.n(c),a=(n(54),n(0)),u=n(8),i=n(6),o=n(14),s=n(15),b=n(22),j=n.n(b),l=n(1);var d=function(){var t=Object(u.c)(s.a);return Object(l.jsxs)("ul",{className:j.a.ul,children:[Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{exact:!0,to:"/",className:j.a.navLink,activeClassName:j.a.navLinkactive,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),t&&Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{to:"/contacts",className:j.a.navLink,activeClassName:j.a.navLinkactive,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})]})},O=n(23),f=n.n(O);function v(){return Object(l.jsxs)("ul",{className:f.a.ul,children:[Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{to:"/login",className:f.a.navLink,activeClassName:f.a.navLinkactive,children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{to:"/register",className:f.a.navLink,activeClassName:f.a.navLinkactive,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})}var h=n(33),p=n.n(h),x=n.p+"static/media/404_error.a378b0df.jpg",k=n(29),g=function(){var t=Object(u.b)(),e=Object(u.c)(s.b),n=Object(a.useCallback)((function(){t(Object(k.b)())}),[t]);return Object(l.jsxs)("div",{className:p.a.ul,children:[Object(l.jsx)("img",{src:x,alt:"",width:"32",className:p.a.navLink}),Object(l.jsx)("span",{className:p.a.navLink,children:e}),Object(l.jsx)("button",{type:"button",onClick:n,children:"\u0412\u044b\u0439\u0442\u0438"})]})},m=n(47),_=n.n(m),L=function(){var t=Object(u.c)(s.a);return Object(l.jsxs)("div",{className:_.a.div,children:[Object(l.jsx)(d,{}),t?Object(l.jsx)(g,{}):Object(l.jsx)(v,{})]})},y=n(21),N=n(32);function S(t){var e=t.children,n=t.redirectTo,c=void 0===n?"/":n,r=Object(N.a)(t,["children","redirectTo"]),a=Object(u.c)(s.a);return Object(l.jsx)(i.b,Object(y.a)(Object(y.a)({},r),{},{children:a?e:Object(l.jsx)(i.a,{to:c})}))}function w(t){var e=t.children,n=t.restricted,c=void 0!==n&&n,r=t.redirectTo,a=void 0===r?"/":r,o=Object(N.a)(t,["children","restricted","redirectTo"]),b=Object(u.c)(s.a)&&c;return Object(l.jsx)(i.b,Object(y.a)(Object(y.a)({},o),{},{children:b?Object(l.jsx)(i.a,{to:a}):e}))}var C,E,T,U,z,B=Object(a.lazy)((function(){return n.e(1).then(n.bind(null,101))})),F=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,96))})),A=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,97))})),I=Object(a.lazy)((function(){return Promise.all([n.e(7),n.e(0)]).then(n.bind(null,99))})),M=function(){var t=Object(u.b)(),e=Object(a.useCallback)((function(){t(Object(k.a)())}),[t]);return Object(a.useEffect)((function(){e()}),[e]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(L,{}),Object(l.jsx)(a.Suspense,{fallback:Object(l.jsx)("h1",{children:"Lodding..."}),children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",children:Object(l.jsx)(B,{})}),Object(l.jsx)(S,{path:"/contacts",redirectTo:"/login",children:Object(l.jsx)(I,{})}),Object(l.jsx)(w,{path:"/login",restricted:!0,redirectTo:"/",children:Object(l.jsx)(F,{})}),Object(l.jsx)(w,{path:"/register",restricted:!0,redirectTo:"/",children:Object(l.jsx)(A,{})}),Object(l.jsx)(i.b,{children:Object(l.jsx)(B,{})})]})})]})},P=function(t){t&&t instanceof Function&&n.e(8).then(n.bind(null,98)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,u=e.getTTFB;n(t),c(t),r(t),a(t),u(t)}))},D=n(48),J=n(26),K=n(5),q=n(7),H=n(2),R=n(20),W=Object(H.c)([],(C={},Object(K.a)(C,R.i,(function(t,e){return e.payload})),Object(K.a)(C,R.c,(function(t,e){var n=e.payload;return[].concat(Object(J.a)(t),[n])})),Object(K.a)(C,R.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(K.a)(C,R.m,(function(t,e){var n=e.payload;return[].concat(Object(J.a)(t),[n])})),C)),Z=Object(H.c)("",Object(K.a)({},R.j,(function(t,e){return e.payload}))),G=Object(q.b)({items:W,filter:Z}),Q=n(3),V={name:null,email:null},X=Object(H.c)(V,(E={},Object(K.a)(E,Q.l,(function(t,e){return e.payload.user})),Object(K.a)(E,Q.f,(function(t,e){return e.payload.user})),Object(K.a)(E,Q.i,(function(){return V})),Object(K.a)(E,Q.c,(function(t,e){return e.payload})),E)),Y=Object(H.c)(null,(T={},Object(K.a)(T,Q.l,(function(t,e){return e.payload.token})),Object(K.a)(T,Q.f,(function(t,e){return e.payload.token})),Object(K.a)(T,Q.i,(function(){return null})),T)),$=Object(H.c)(null,(U={},Object(K.a)(U,Q.j,(function(t,e){return e.payload})),Object(K.a)(U,Q.d,(function(t,e){return e.payload})),Object(K.a)(U,Q.a,(function(t,e){return e.payload})),Object(K.a)(U,Q.g,(function(t,e){return e.payload})),U)),tt=Object(H.c)(!1,(z={},Object(K.a)(z,Q.l,(function(){return!0})),Object(K.a)(z,Q.f,(function(){return!0})),Object(K.a)(z,Q.c,(function(){return!0})),Object(K.a)(z,Q.i,(function(){return!1})),Object(K.a)(z,Q.j,(function(){return!1})),Object(K.a)(z,Q.d,(function(){return!1})),Object(K.a)(z,Q.a,(function(){return!1})),z)),et=Object(q.b)({isAuthenticated:tt,user:X,token:Y,error:$}),nt=n(17),ct=n(49),rt=n.n(ct),at=Object(J.a)(Object(H.d)({serializableCheck:{ignoredActions:[nt.a,nt.f,nt.b,nt.c,nt.d,nt.e]}})),ut={key:"token",storage:rt.a,whitelist:["token"]},it=Object(H.a)({reducer:{auth:Object(nt.g)(ut,et),contacts:G},middleware:at}),ot={store:it,persistor:Object(nt.h)(it)};r.a.render(Object(l.jsx)(u.a,{store:ot.store,children:Object(l.jsx)(D.a,{loading:null,persistor:ot.persistor,children:Object(l.jsx)(o.a,{children:Object(l.jsx)(M,{})})})}),document.getElementById("root")),P()}},[[82,5,6]]]);
//# sourceMappingURL=main.b98934bf.chunk.js.map